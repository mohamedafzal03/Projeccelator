! function(e, t, n) {
    function s(e, t, n) {
        if (n) {
            var s = new Date;
            s.setTime(s.getTime() + 24 * n * 60 * 60 * 1e3);
            r = "; expires=" + s.toString()
        } else var r = "";
        document.cookie = e + "=" + t + r + "; path=/"
    }

    function r() {
        e("body").find("*").css("cursor", "progress"), i.attr("disabled", "disabled");
        var n = a.val();
        (function(e) {
            return !!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e)
        })(n) ? function(n) {
            ! function(n) {
                e.ajax({
                    type: "POST",
                    url: "/api/newsletter",
                    dataType: "json",
                    data: {
                        email: n,
                        url: t.location.pathname
                    }
                }).done(function(e) {
                    e.success ? (s("newsletterEmail", n), l(n), d.html(""), h.show().html("Sweet!")) : d.html('<p>&#8618; Whoops! Looks like something went wrong. Try again or <a href="/contact" style="display:inline-block;">contact us</a> to sign up!</p>')
                }).fail(function(e) {
                    d.html('<p>&#8618; Whoops! Looks like something went wrong. Try again or <a href="/contact" style="display:inline-block;">contact us</a> to sign up!</p>')
                }).always(function() {
                    e("body").find("*").css("cursor", "auto"), i.removeAttr("disabled")
                })
            }(n)
        }(n) : (d.html("&#8618; Please enter a valid email address."), e("body").find("*").css("cursor", "auto"), i.removeAttr("disabled"))
    }

    function o() {
        ! function(e) {
            s(e, "", -1)
        }("newsletterEmail"), w.hide(), h.hide(), c.html("Sign up for our monthly&nbsp;newsletter, the&nbsp;Data&nbsp;Digest!"), u.show()
    }

    function l(e) {
        u.hide(), w.show(), c.html("You're signed up with email " + e + ".")
    }
    var i, a, c, u, w, d, h;
    selectors = {
            newsletterButton: ".newsletter-submit",
            email: ".newsletter-input",
            newsletterHeader: ".newsletter-header",
            newsletterSubtitle: ".newsletter-sub",
            newsletterInputContainer: ".newsletter-input-container",
            newsletterNotYou: ".newsletter-not-you",
            newsletterErrors: ".newsletter-errors",
            newsletterSuccess: ".newsletter-success"
        }, i = e(selectors.newsletterButton), a = e(selectors.email), e(selectors.newsletterHeader), c = e(selectors.newsletterSubtitle), u = e(selectors.newsletterInputContainer), w = e(selectors.newsletterNotYou), d = e(selectors.newsletterErrors), h = e(selectors.newsletterSuccess), i.on("click", r), a.on("keydown", function(e) {
            13 == e.which && (e.preventDefault(), r())
        }), w.on("click", o), w.hover(function() {
            e(this).css("cursor", "pointer")
        }),
        function() {
            var e = function(e) {
                for (var t = "newsletterEmail" + "=", n = document.cookie.split(";"), s = 0; s < n.length; s++) {
                    for (var r = n[s];
                        " " == r.charAt(0);) r = r.substring(1, r.length);
                    if (0 == r.indexOf(t)) return r.substring(t.length, r.length)
                }
                return null
            }();
            e ? l(e) : o()
        }()
}(jQuery, window);
! function(i, a, e) {
    var n;
    n = i(".sr-nav"), i(".menuContainer").click(function(i) {
        n.toggleClass("navOpen")
    });
    var o;
    o = i(".withSubNav");
    i(".howWorksLink").click(function(i) {
            o.toggleClass("subNavOpen"), n.hasClass("navOpen") && i.preventDefault()
        }),
        function(i) {
            (jQuery.browser = jQuery.browser || {}).mobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0, 4))
        }(navigator.userAgent || navigator.vendor || a.opera);
    var t = {
        Android: function() {
            return navigator.userAgent.match(/Android/i)
        },
        BlackBerry: function() {
            return navigator.userAgent.match(/BlackBerry/i)
        },
        iOS: function() {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i)
        },
        iPad: function() {
            return navigator.userAgent.match(/iPad/i)
        },
        Opera: function() {
            return navigator.userAgent.match(/Opera Mini/i)
        },
        Windows: function() {
            return navigator.userAgent.match(/IEMobile/i)
        },
        any: function() {
            return t.Android() || t.BlackBerry() || t.iOS() || t.Opera() || t.Windows()
        }
    };
    a.branding = a.branding || {}, a.branding.isMobile = t
}(jQuery, window);
! function(t, a, n) {
    function e(a, n) {
        return t(a).parents().filter(function() {
            return t(this).data(n)
        }).eq(0).data(n)
    }

    function i(n) {
        var i = t(this),
            o = i.parent(),
            r = a.location.pathname,
            s = i.text(),
            c = t(n.target).data(),
            l = {
                category: r,
                action: "General Click Event",
                label: s,
                tracking: c.tracking || e(i, "tracking") || "no tag found",
                trackingDetail: c.trackingDetail || e(i, "trackingDetail") || "no tag found",
                element: {
                    classList: i.prop("classList"),
                    tag: i.prop("tagName"),
                    text: s,
                    offsetTop: i.offset().top
                },
                page: {
                    path: r,
                    title: document.title
                },
                parent: {
                    classList: o.prop("classList"),
                    tag: o.prop("tagName")
                }
            };
        analytics.track("General Click Event", l)
    }
    t({
        linksButtonsAndImgs: 'a, .btn, input[type="button"], img'
    }.linksButtonsAndImgs).on("mouseup", i)
}(jQuery, window);
! function(r, e, o) {
    function a() {
        i = r(f.contactFormSection), t = i.find(f.contactForm), m = t.find(f.submitButton), s = i.find(f.successArea), l = t.find(f.name), c = t.find(f.email), d = s.find(f.yourName), u = {
            nameError: t.find(f.errors.nameError),
            emailError: t.find(f.errors.emailError)
        }
    }

    function n() {
        a();
        (function() {
            u.nameError.html(""), u.emailError.html(""), l.removeClass("formfield-error"), c.removeClass("formfield-error"), u.nameError.hide(), u.emailError.hide();
            var r = l.val(),
                e = function(r) {
                    return !!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(r)
                }(c.val());
           // r || (l.addClass("formfield-error"), u.nameError.show().html("&#8618; Please enter your name."));
            //e || (c.addClass("formfield-error"), u.emailError.show().html("&#8618; Please enter a valid email."));
            if (!r || !e) return !1;
            return !0
        })() && (r("body").find("*").css("cursor", "progress"), m.html("...sending"), function() {
            var o = e.location.pathname,
                a = t.serialize() + "&url=" + o,
                n = l.val().split(" ")[0];
            r.ajax({
                type: "POST",
                url: "/api/simple-contact",
                data: a
            }).done(function(e) {
                r("body").find("*").css("cursor", "auto"), e.success && (d.html(n), s.show(), m.html("Request sent!").attr("disabled", "disabled").off("click"))
            })
        }())
    }
    var i, t, m, s, l, c, d, u = {},
        f = {
            contactFormSection: ".simpleContact",
            contactForm: ".form-contact",
            submitButton: ".submit-form",
            successArea: ".success-area",
            name: 'input[name="name"]',
            email: 'input[name="email"]',
            yourName: ".your-name",
            errors: {
                nameError: ".name-error",
                emailError: ".email-error"
            }
        };
    a(), s.hide(), m.on("click", n), c.on("keydown", function(r) {
        13 == r.which && (r.preventDefault(), n())
    }), u.nameError.hide(), u.emailError.hide()
}(jQuery, window);
! function(e, o, i) {
    o.branding = o.branding || {}, o.branding.videoTakeover = new function() {
        function o(e) {
            r.currentTime(0).pause(), r.dispose(), d.hide(), t.removeClass("blur")
        }

        function i(i) {
            v.html('<video id="takeover-video" class="video-js vjs-big-play-centered vjs-full-window takeover-video" controls preload="auto" data-setup=\'{}\'><p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that<a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video>');
            var n = e(this).data("videoSrc"),
                a = e(this).data("videoType");
            (r = e(videojs(s.videoTag, {
                type: a,
                src: n
            }))[0]).src({
                type: a,
                src: n
            }), r.load(), r.ready(function() {
                r.on("ended", o), document.querySelector("video").controls || (d.show(), t.addClass("blur")), r.play()
            })
        }
        var t, d, n, a, r, v, s = {
            blurContainer: ".blur-div",
            videoContainer: ".takeover",
            videoClose: ".takeover-close",
            videoOpen: ".takeover-open",
            videoTag: "takeover-video",
            videoHtml: ".video-html"
        };
        (t = e(s.blurContainer)).contents(), d = e(s.videoContainer), n = e(s.videoClose), a = e(s.videoOpen), e("." + s.videoTag), v = e(s.videoHtml), d.hide(), "ontouchstart" in document.documentElement || (document.documentElement.className += " no-touch"), a.on("click", i), n.on("click", o)
    }
}(jQuery, window);
! function(r, e, o) {
    function s() {
        a = r(h.contactFormSection), n = r(h.contactForm), m = n.find(".submit-form"), l = r(h.successArea), i = r(h.name), u = n.find(h.email), c = r(h.userType), d = r(h.userInterest), f = r(h.yourName), E = {
            nameError: r(h.errors.nameError),
            emailError: r(h.errors.emailError),
            userTypeError: r(h.errors.userTypeError),
            userInterestError: r(h.errors.userInterestError)
        }
    }

    function t() {
        s();
        (function() {
            E.nameError.html(""), E.emailError.html(""), E.userTypeError.html(""), E.userInterestError.html(""), i.removeClass("formfield-error"), u.removeClass("formfield-error"), c.removeClass("formfield-error"), d.removeClass("formfield-error"), E.nameError.hide(), E.emailError.hide(), E.userTypeError.hide(), E.userInterestError.hide();
            var r = i.val(),
                e = u.val(),
                o = c.val(),
                s = d.val(),
                t = function(r) {
                    return !!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(r)
                }(e);
            r || (i.addClass("formfield-error"), E.nameError.show().html("&#8618; Please enter your name."));
            t || (u.addClass("formfield-error"), E.emailError.show().html("&#8618; Please enter a valid email."));
            o || (c.addClass("formfield-error"), E.userTypeError.show(), E.userTypeError.html("&#8618; Please select from the dropdown."));
            s || (d.addClass("formfield-error"), E.userInterestError.show(), E.userInterestError.html("&#8618; Please select your interest."));
            if (!(r && t && o && s)) return !1;
            return !0
        })() ? (r("body").find("*").css("cursor", "progress"), function() {
            var e = n.serialize(),
                o = i.val().split(" ")[0];
            r.ajax({
                type: "POST",
                url: "/api/contact",
                data: e
            }).done(function(e) {
                r("body").find("*").css("cursor", "auto"), e.success && (n.trigger("reset"), n.hide(), f.html(o), l.show(), r("html, body").animate({
                    scrollTop: a.offset().top
                }, 50))
            })
        }()) : r("html, body").animate({
            scrollTop: a.offset().top
        }, 50)
    }
    var a, n, m, l, i, u, c, d, f, E = {},
        h = {
            contactFormSection: ".contactFormSection",
            contactForm: ".form-contact",
            successArea: ".success-area",
            name: 'input[name="name"]',
            email: 'input[name="email"]',
            userType: 'select[name="userType"]',
            userInterest: 'select[name="userInterest"]',
            yourName: ".your-name",
            errors: {
                nameError: ".name-error",
                emailError: ".email-error",
                userTypeError: ".userType-error",
                userInterestError: ".userInterest-error"
            }
        };
    s(), a.length && (l.hide(), m.on("click", t), E.nameError.hide(), E.emailError.hide(), E.userTypeError.hide(), E.userInterestError.hide())
}(jQuery, window);
! function(r, e, o) {
    function a() {
        s = r(f.formContainer), l = s.find(f.form), m = l.find(f.submitButton), t = {
            name: l.find(f.inputs.name),
            email: l.find(f.inputs.email),
            school: l.find(f.inputs.school)
        }, u = {
            nameError: l.find(f.errors.nameError),
            emailError: l.find(f.errors.emailError)
        }
    }

    function n() {
        a();
        i() && (r("body").find("*").css("cursor", "progress"), m.html("...sending"), function() {
            var o = e.location.search.slice(1),
                a = l.serialize() + "&conf=" + o;
            r.ajax({
                type: "POST",
                url: "/api/schoolgrader-signup",
                data: a
            }).done(function(o) {
                r("body").find("*").css("cursor", "auto"), o.success && (l[0].reset(), m.html('<span class="fa fa-thumbs-o-up fa-4"></span> Success!').removeClass("teal").addClass("blue"), e.setTimeout(function() {
                    m.html("Submit").removeClass("blue").addClass("teal")
                }, 2e3));
                for (var a in t) t[a].off("blur", i)
            })
        }());
        for (var o in t) t[o].on("blur", i)
    }

    function i() {
        u.nameError.html(""), u.emailError.html(""), t.name.removeClass("formfield-error"), t.email.removeClass("formfield-error"), u.nameError.hide(), u.emailError.hide();
        var r = t.name.val(),
            e = t.email.val(),
            o = (t.school.val(), function(r) {
                return !!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(r)
            }(e));
        return r || (t.name.addClass("formfield-error"), u.nameError.show().html("&#8618; Please enter your name.")), o || (t.email.addClass("formfield-error"), u.emailError.show().html("&#8618; Please enter a valid email.")), !(!r || !o)
    }
    var s, l, m, t = {},
        u = {},
        f = {
            formContainer: ".schoolgrader-signup-form-container",
            form: ".schoolgrader-signup-form",
            submitButton: ".schoolgrader-signup-submit",
            inputs: {
                name: 'input[name="name"]',
                email: 'input[name="email"]',
                school: 'input[name="school"]'
            },
            errors: {
                nameError: ".schoolgrader-signup-name-error",
                emailError: ".schoolgrader-signup-email-error"
            }
        };
    a(), m.on("click", n), t.email.on("keydown", function(r) {
        13 == r.which && (r.preventDefault(), n())
    }), u.nameError.hide(), u.emailError.hide()
}(jQuery, window);
! function(n, i, o) {
    function t() {
        f.hide(), h.show()
    }

    function c() {
        f.show(), h.hide()
    }

    function r() {
        s.html("Checking..."), n("body").find("*").css("cursor", "url(/img/spinwait.gif), progress");
        var o = e.val();
        o ? function(o) {
            n.ajax({
                url: "/api/client-check",
                data: {
                    client: o
                }
            }).success(function(n) {
                ! function(n) {
                    i.location = "https://" + n + ".schoolrunner.org/login"
                }(o)
            }).fail(function(n) {
                a()
            })
        }(o) : a(), s.html("Continue &#10142;"), n("body").find("*").css("cursor", "auto")
    }

    function a() {
       // e.addClass("formfield-error"), e.focus(), u.show().html("&#8618; Whoops! I don't recognize that domain!")
    }
    var e, s, u, d, f, h, l, m = {
        input: ".domain-input",
        submit: ".submit-signin",
        error: ".domain-error",
        whatDomain: ".what-domain",
        signinContainer: ".signin-content",
        domainInfoContainer: ".domain-info",
        gotIt: ".got-it"
    };
    e = n(m.input).find("input"), s = n(m.submit), u = n(m.error), d = n(m.whatDomain), f = n(m.signinContainer), h = n(m.domainInfoContainer), l = n(m.gotIt), h.hide(), s.on("click", r), l.on("click", c), d.on("click", t), e.on("keydown", function(n) {
        13 == n.which && (n.preventDefault(), r())
    })
}(jQuery, window);
//# sourceMappingURL=branding.min.js.map